---
description: 提问引导：“关于Mod的UI激活指示器，mod_ui_ux 规则是怎么规定的？”或“我正在实现动态快捷栏，请参考 mod_ui_ux 规则中的描述。” 场景：在实现或修改任何与用户界面相关的部分，或者讨论用户体验问题时
globs: 
alwaysApply: false
---
# Mod UI/UX 设计

该规则详细说明了"法术快速施法系统"Mod 的用户界面 (UI) 和用户体验 (UX) 设计。清晰直观的 UI/UX 是此 Mod 成功的关键。详细信息请参考 `[quickcast.md](mdc:quickcast.md)` 第 4 节 和 `[注意事项.md](mdc:注意事项.md)`。

## 1. 激活状态指示器 (Activation State Indicator)

参考 `[quickcast.md](mdc:quickcast.md)` 第 4.1 节。

*   **必要性**: 必须有清晰的提示告知玩家当前处于哪个快捷施法页模式。
*   **表现形式**: 当快捷施法页被激活或停用时，相关的状态信息（例如："快捷施法: 3环 已激活" 或 "快捷施法: 返回主快捷栏"）将作为一条新的消息被添加到游戏内建的事件日志窗口的"事件"标签页下。
*   **行为**: 当快捷施法页相关的状态发生变化时（激活、停用），对应的消息会出现在事件日志中。

## 2. 动态主快捷栏 (Dynamic Main Hotbar) - 关键交互

参考 `[quickcast.md](mdc:quickcast.md)` 第 4.2 节 和 `[注意事项.md](mdc:注意事项.md)` 第 5 点。

*   **核心机制**: 当一个快捷施法页被激活时，游戏的主快捷栏（游戏画面中底部的那一排）**必须临时改变其显示内容**，以反映当前激活页面的法术绑定情况。这利用了游戏原有的切换行动栏页面的机制，Mod 通过键盘输入进行切换管理。
*   **具体表现**: 
    *   例如按下 Ctrl + 3 (激活3环法术页)：
        *   主快捷栏第 1 格：显示绑定到该页面施法键 1 的 3 环法术图标，并显示按键提示 "1"。
        *   主快捷栏第 2 格：显示绑定到该页面施法键 2 的 3 环法术图标，并显示按键提示 "2"。
        *   以此类推。
    *   未绑定法术的快捷栏格子，应使用原版操作栏对于未放置内容的显示逻辑。
*   **恢复**: 当按下"返回键"(X) 或通过其他方式返回主快捷栏模式时，主快捷栏**立即恢复**显示其原本由玩家手动配置的内容。
*   **重要性**: 这是提供即时视觉反馈、减少记忆负担、让系统直观易用的核心环节。

## 3. 绑定与施法反馈

参考 `[quickcast.md](mdc:quickcast.md)` 第 4.3 节。

*   **绑定反馈**: 在法术书界面成功绑定法术到施法键时，应有明确反馈（视觉高亮/标记，可选听觉音效）。
*   **施法反馈**: 遵循游戏原有的施法动画、音效、目标效果等。

## 4. 操作误触规避

参考 `[quickcast.md](mdc:quickcast.md)` 第 4.4 节。

*   **问题**: 防止在战斗中，当鼠标悬停在（行动栏）法术书的法术上时，按下快捷键被误认为设置快捷键而非施法。
*   **解决方案**: Mod 打开的行动栏法术书 UI 必须调整至在战斗中不易意外触碰的位置（例如屏幕左下角）。
*   **行动栏法术书UI**: 注意与 `[注意事项.md](mdc:注意事项.md)` 第 1 点中提到的"主法术书界面"进行区分。此处的法术书指的是行动栏上的法术书（通常由"S"图标展开）。

## 5. 游戏行动栏交互理解

参考 `[注意事项.md](mdc:注意事项.md)` 第 2 和 第 5 点。

*   游戏中的行动栏法术书界面（由"**S**"表示）是附属在主行动栏界面上的，可以通过鼠标点击展开/折叠。
*   Mod 利用游戏原有的**切换主行动栏页面**的逻辑来存储不同快捷施法页的信息。玩家原有操作是通过鼠标点击或滚轮，Mod 将其改为键盘控制。
*   当 Mod 激活一个快捷施法页时，它实际上是在模拟切换到游戏内部的一个特定行动栏页面，并让该页面的内容（即绑定的法术）显示在主快捷栏上。

