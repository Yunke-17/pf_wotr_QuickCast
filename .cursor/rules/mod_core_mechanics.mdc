---
description: 
globs: *.md,*.cs
alwaysApply: false
---
# Mod 核心机制概述

该规则概述了"法术快速施法系统"Mod 的核心机制，旨在提升施法者职业在《开拓者：正义之怒》中的操作效率和流畅度。详细信息请参考 [quickcast.md](mdc:quickcast.md)。

## 1. 核心概念

参考 `[quickcast.md](mdc:quickcast.md)` 第 3.1 节。

*   **快捷施法页 (Quick Cast Pages)**: 为每个法术环阶（0-9环，及可能的10环神话法术）创建独立的虚拟快捷键映射层。这些映射层来源于游戏本身操作栏。
*   **页面激活键 (Page Activation Keys)**: 用于切换到特定环阶快捷施法页的组合键（默认为 Ctrl + 数字/字母，例如 Ctrl + 1 激活1环页，Ctrl + Q 激活7环页）。
*   **施法键 (Cast Keys)**: 在某个快捷施法页激活时，用于直接施放绑定在该键位上的法术的按键（默认为数字键 1-6 等）。
*   **返回键 (Return Key)**: 用于退出当前快捷施法页模式，恢复到游戏默认主快捷栏状态的按键 (默认为 X 键)。

## 2. 主要机制详解

参考 `[quickcast.md](mdc:quickcast.md)` 第 3.2 节。

### 2.1. 快捷施法页激活 (Activation)

*   **触发**: 按下预设的"页面激活键"组合。
*   **效果**: 系统进入对应环阶的快捷施法模式。主快捷栏会动态更新以显示当前激活页面的法术绑定。

### 2.2. 快速施法 (Casting)

*   **环境**: 战斗中或任何允许施法的非 UI 界面状态。
*   **流程**:
    1.  按下目标环阶的"页面激活键"。
    2.  按下先前已绑定好的"施法键"。
*   **效果**: 尝试施放绑定的法术。

### 2.3. 返回主快捷栏 (Return to Main Hotbar)

*   **触发**:
    *   按下设定的"返回键"（默认 X）。
    *   可选：再次按下当前激活的"页面激活键"。
*   **效果**: 系统退出快捷施法页模式，主快捷栏恢复原状，键盘输入恢复正常。

## 3. 施法后状态管理

参考 `[quickcast.md](mdc:quickcast.md)` 第 3.3 节。

*   **默认行为**: 成功施法后，系统**保持**在当前的快捷施法页。
*   **可选行为**: 允许配置施法成功后**自动返回**主快捷栏模式。

## 4. 设计目标

参考 `[quickcast.md](mdc:quickcast.md)` 第 2 节。

*   **效率提升**: 大幅缩短定位并施放法术的时间和操作。
*   **流畅性增强**: 减少操作中断，保持战斗节奏。
*   **直观性**: 利用法术环阶认知，提供易学的快捷键结构。
*   **高度可定制**: 允许玩家配置核心按键。

此 Mod 的目标是通过引入一个虚拟的、按法术环阶组织的"快捷施法页"系统来解决游戏原生快捷栏容量有限和操作繁琐的问题。

